<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6b0001; -webkit-text-stroke: #6b0001; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #fb0007; -webkit-text-stroke: #fb0007; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #093c94; -webkit-text-stroke: #093c94; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; background-color: #000000; background-color: rgba(0, 0, 0, 0); min-height: 16.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #18702b; -webkit-text-stroke: #18702b; background-color: #000000; background-color: rgba(0, 0, 0, 0)}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; min-height: 16.0px}
    span.s1 {font-kerning: none}
    span.s2 {font-kerning: none; color: #fb0007; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #000000; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #0000ff; -webkit-text-stroke: 0px #0000ff}
    span.s6 {font-kerning: none; color: #6b0001; -webkit-text-stroke: 0px #6b0001}
    span.s7 {font-kerning: none; color: #18702b; -webkit-text-stroke: 0px #18702b}
    span.s8 {font-kerning: none; color: #093c94; -webkit-text-stroke: 0px #093c94}
    span.s9 {font-kerning: none; color: #137646; -webkit-text-stroke: 0px #137646}
    span.s10 {font-kerning: none; color: #4d5055; -webkit-text-stroke: 0px #4d5055}
    span.s11 {font-kerning: none; color: #6f0ec3; -webkit-text-stroke: 0px #6f0ec3}
    span.s12 {font-kerning: none; color: #a4450b; -webkit-text-stroke: 0px #a4450b}
    span.s13 {font-kerning: none; color: #0e6e6d; -webkit-text-stroke: 0px #0e6e6d}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"es"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Evaluación de Liderazgo Adaptativo</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/chart.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s7">'Inter'</span><span class="s1">, </span><span class="s8">sans-serif</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.chat-bubble</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s9">75%</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.chat-bubble.user</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#2563eb</span><span class="s4">; </span><span class="s10">/* bg-blue-600 */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s8">white</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.chat-bubble.ai</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#4b5563</span><span class="s4">; </span><span class="s10">/* bg-gray-600 */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s8">white</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.loader</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s8">solid</span><span class="s1"> </span><span class="s8">#f3f3f3</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-top:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s8">solid</span><span class="s1"> </span><span class="s8">#3498db</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s1"> </span><span class="s9">50%</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">40px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">40px</span><span class="s1">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">spin</span><span class="s4"> </span><span class="s9">1s</span><span class="s4"> </span><span class="s1">linear</span><span class="s4"> </span><span class="s1">infinite</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s8">spin</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s1"> { </span><span class="s2">transform:</span><span class="s1"> </span><span class="s8">rotate(</span><span class="s9">0deg</span><span class="s8">)</span><span class="s1">; }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s1"> { </span><span class="s2">transform:</span><span class="s1"> </span><span class="s8">rotate(</span><span class="s9">360deg</span><span class="s8">)</span><span class="s1">; }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-900 text-white flex items-center justify-center min-h-screen p-4"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loading-overlay"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed inset-0 bg-gray-900 bg-opacity-80 flex flex-col items-center justify-center z-50 hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loader mb-4"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loading-text"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-lg"</span><span class="s3">&gt;</span><span class="s4">Cargando...</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full max-w-4xl mx-auto bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- 1. PÁGINA DE BIENVENIDA --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"page-welcome"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-3xl md:text-4xl font-bold text-center text-blue-400 mb-4"</span><span class="s3">&gt;</span><span class="s1">Bienvenido a la Evaluación de Liderazgo Adaptativo</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-gray-300 text-center mb-6"</span><span class="s3">&gt;</span><span class="s1">Esta evaluación consta de un test adaptativo y 5 simulaciones de conversación con IA para medir tus capacidades de liderazgo en un entorno realista.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-gray-700 rounded-full h-2.5 mb-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"progress-bar-main"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-blue-600 h-2.5 rounded-full"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"width: 0%"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"startAssessment()"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300"</span><span class="s3">&gt;</span><span class="s4">Comenzar Evaluación</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- 2. PÁGINA DE DIAGNÓSTICO (MCQ) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"page-test"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"test-dimension-title"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-bold text-blue-400 mb-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-gray-400 mb-6"</span><span class="s3">&gt;</span><span class="s1">Bloque de Test Adaptativo</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"question-text"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-lg mb-6"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"options-container"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-3"</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Las opciones se generarán aquí --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"submitAnswer()"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"submit-answer-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-8 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-gray-500"</span><span class="s4"> </span><span class="s2">disabled</span><span class="s3">&gt;</span><span class="s4">Siguiente</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- 3. PÁGINA DE SIMULACIÓN (CHAT) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"page-simulation"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"sim-dimension-title"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-bold text-blue-400 mb-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-gray-400 mb-4"</span><span class="s3">&gt;</span><span class="s1">Simulación de Conversación con IA</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"chat-window"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"h-80 bg-gray-900 rounded-lg p-4 overflow-y-auto flex flex-col space-y-4 mb-4"</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Mensajes del chat aquí --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex space-x-2"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"chat-input"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex-grow bg-gray-700 border border-gray-600 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Escribe tu respuesta aquí..."</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"sendMessage()"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300"</span><span class="s3">&gt;</span><span class="s4">Enviar</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"endSimulation()"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"end-sim-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300"</span><span class="s3">&gt;</span><span class="s4">Finalizar Simulación e Ir a la Siguiente</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- 4. PÁGINA DE RESULTADOS --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"page-results"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl md:text-4xl font-bold text-center text-blue-400 mb-4"</span><span class="s3">&gt;</span><span class="s4">Resultados y Plan de Acción</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-gray-300 text-center mb-8"</span><span class="s3">&gt;</span><span class="s1">Este es tu perfil de liderazgo basado en el test y las simulaciones.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 md:grid-cols-2 gap-8 items-center"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"radar-chart"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"results-summary"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-4"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-xl font-bold text-blue-300"</span><span class="s3">&gt;</span><span class="s1">Análisis General</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"strengths-weaknesses"</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Se llenará dinámicamente --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                     </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-xl font-bold text-blue-300 mt-4"</span><span class="s3">&gt;</span><span class="s1">Plan de Acción Sugerido</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"action-plan"</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">&lt;!-- Se llenará dinámicamente --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-8 text-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"generatePDF()"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300"</span><span class="s3">&gt;</span><span class="s4">Generar Informe PDF</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- CONFIGURACIÓN Y DATOS ---</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s4"> apiKey = </span><span class="s7">""</span><span class="s4">; </span><span class="s1">// &lt;-- ¡IMPORTANTE! AQUÍ PEGARÁS TU CLAVE DE API MÁS ADELANTE.</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s4"> apiUrl = </span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=</span><span class="s4">${apiKey}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> dimensions = [</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Manage Paradoxes"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Challenge Paradigms"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Potentializing People"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Widen Skill Sets"</span><span class="s4">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">"Build Leadership Capacities"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> questions = [</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Manage Paradoxes</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">0</span><span class="s4">, l: </span><span class="s12">1</span><span class="s4">, q: </span><span class="s1">"Un miembro del equipo quiere experimentar con nueva tecnología, pero esto podría ralentizar el proyecto actual. ¿Qué haces?"</span><span class="s4">, o: [{t: </span><span class="s1">"Priorizo la entrega a tiempo y descarto la experimentación."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Permito la experimentación sin un plan claro."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Busco una forma de experimentar a pequeña escala sin impactar la fecha de entrega."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Le digo que lo veremos después de entregar el proyecto."</span><span class="s4">, w: </span><span class="s12">0.6</span><span class="s4">}] },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">0</span><span class="s4">, l: </span><span class="s12">2</span><span class="s4">, q: </span><span class="s1">"El equipo de QA pide más tiempo para pruebas, pero el cliente exige la demo el viernes. ¿Qué propones?"</span><span class="s4">, o: [{t: </span><span class="s1">"Presiono a QA para que termine antes."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Retraso la demo para asegurar la calidad."</span><span class="s4">, w: </span><span class="s12">0.6</span><span class="s4">}, {t: </span><span class="s1">"Negocio con el cliente mostrar las funciones ya probadas y planifico una segunda demo."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Hago la demo y espero que no haya errores."</span><span class="s4">, w: </span><span class="s12">0.1</span><span class="s4">}] },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">0</span><span class="s4">, l: </span><span class="s12">3</span><span class="s4">, q: </span><span class="s1">"Debes reducir costes un 10%, pero también se te pide innovar, lo cual requiere inversión. ¿Cómo abordas esta paradoja?"</span><span class="s4">, o: [{t: </span><span class="s1">"Me centro en reducir costes, la innovación puede esperar."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Invierto en innovación esperando que genere ahorros a largo plazo."</span><span class="s4">, w: </span><span class="s12">0.6</span><span class="s4">}, {t: </span><span class="s1">"Propongo un plan de innovación frugal, automatizando procesos para reducir costes operativos y liberar fondos."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Pido a mi superior que elija una de las dos prioridades."</span><span class="s4">, w: </span><span class="s12">0.4</span><span class="s4">}] },</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Challenge Paradigms</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">1</span><span class="s4">, l: </span><span class="s12">1</span><span class="s4">, q: </span><span class="s1">"Un proceso interno es ineficiente, pero 'siempre se ha hecho así'. ¿Cuál es tu primer paso?"</span><span class="s4">, o: [{t: </span><span class="s1">"Lo cambio inmediatamente por una idea mejor."</span><span class="s4">, w: </span><span class="s12">0.4</span><span class="s4">}, {t: </span><span class="s1">"Recopilo datos sobre el impacto de la ineficiencia para presentar un caso de cambio."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Me quejo del proceso con mis compañeros."</span><span class="s4">, w: </span><span class="s12">0.1</span><span class="s4">}, {t: </span><span class="s1">"Acepto el proceso y no hago nada."</span><span class="s4">, w: </span><span class="s12">0.0</span><span class="s4">}] },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">1</span><span class="s4">, l: </span><span class="s12">2</span><span class="s4">, q: </span><span class="s1">"Propones una nueva estrategia y un gerente senior dice 'Eso nunca funcionará aquí'. ¿Cómo respondes?"</span><span class="s4">, o: [{t: </span><span class="s1">"Abandono la idea para no crear conflicto."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Le pregunto '¿Qué necesitarías ver para creer que podría funcionar?' y propongo un piloto."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Defiendo mi idea enérgicamente, insistiendo que tengo razón."</span><span class="s4">, w: </span><span class="s12">0.4</span><span class="s4">}, {t: </span><span class="s1">"Ignoro su comentario y sigo adelante."</span><span class="s4">, w: </span><span class="s12">0.3</span><span class="s4">}] },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">1</span><span class="s4">, l: </span><span class="s12">3</span><span class="s4">, q: </span><span class="s1">"Tu equipo está muy cómodo con las herramientas actuales, pero una nueva tecnología podría duplicar la productividad. ¿Cómo gestionas la resistencia?"</span><span class="s4">, o: [{t: </span><span class="s1">"Impongo la nueva herramienta por decreto."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Organizo una demo, formo a 'campeones' internos y muestro los beneficios con un caso de éxito pequeño."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Dejo que usen la herramienta que quieran."</span><span class="s4">, w: </span><span class="s12">0.4</span><span class="s4">}, {t: </span><span class="s1">"Cancelo el proyecto para mantener al equipo contento."</span><span class="s4">, w: </span><span class="s12">0.1</span><span class="s4">}] },</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Potentializing People</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">2</span><span class="s4">, l: </span><span class="s12">2</span><span class="s4">, q: </span><span class="s1">"Un analista de tu equipo, Marta, siente que está estancada. ¿Qué conversación tienes con ella?"</span><span class="s4">, o: [{t: </span><span class="s1">"Le digo que revise las vacantes internas."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Le asigno tareas más difíciles para ver si responde."</span><span class="s4">, w: </span><span class="s12">0.6</span><span class="s4">}, {t: </span><span class="s1">"Me reúno para entender sus intereses y co-crear un plan de desarrollo con hitos claros."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Le digo que el trabajo es así a veces."</span><span class="s4">, w: </span><span class="s12">0.1</span><span class="s4">}] },</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s1">// ... Añadir más preguntas para las otras dimensiones y niveles</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">3</span><span class="s4">, l: </span><span class="s12">2</span><span class="s4">, q: </span><span class="s1">"El equipo técnico propone una migración de datos que mejorará la latencia, pero dejará al equipo de ventas sin CRM durante 48h. ¿Qué decides?"</span><span class="s4">, o: [{t: </span><span class="s1">"Priorizo la tecnología; ventas tendrá que adaptarse."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}, {t: </span><span class="s1">"Cancelo la migración para no afectar a ventas."</span><span class="s4">, w: </span><span class="s12">0.3</span><span class="s4">}, {t: </span><span class="s1">"Busco una solución intermedia, como una migración por fases o en fin de semana, comunicando el impacto y plan de contingencia."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Pido a los equipos que se pongan de acuerdo entre ellos."</span><span class="s4">, w: </span><span class="s12">0.6</span><span class="s4">}] },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">4</span><span class="s4">, l: </span><span class="s12">2</span><span class="s4">, q: </span><span class="s1">"Te informan que un proveedor clave ha caído, afectando el lanzamiento de mañana. ¿Cuáles son tus primeros 15 minutos?"</span><span class="s4">, o: [{t: </span><span class="s1">"Busco culpables para entender qué falló."</span><span class="s4">, w: </span><span class="s12">0.1</span><span class="s4">}, {t: </span><span class="s1">"Comunico el retraso a todos los stakeholders y luego analizo el problema."</span><span class="s4">, w: </span><span class="s12">0.6</span><span class="s4">}, {t: </span><span class="s1">"Reúno al equipo clave, defino un plan de comunicación inmediato (qué, quién, cuándo) y asigno tareas para buscar alternativas."</span><span class="s4">, w: </span><span class="s12">1.0</span><span class="s4">}, {t: </span><span class="s1">"Intento solucionar el problema técnico yo mismo."</span><span class="s4">, w: </span><span class="s12">0.2</span><span class="s4">}] },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> simulations = [</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">0</span><span class="s4">, s: </span><span class="s1">"Eres Ana, Scrum Master. Te importa la rapidez (entrega semanal) pero Calidad exige más QA y retrasa. Responde con tensión real (no seas complaciente). Si el líder integra ambas (rapidez y calidad), baja la tensión. Si elige solo una, sube la tensión."</span><span class="s4">, u: </span><span class="s1">"Ana: El equipo de QA dice que si seguimos así tendremos bugs en producción. Pero el cliente exige demo el viernes. ¿Qué propones?"</span><span class="s4">, r: </span><span class="s1">"Evalúa (0-5): escucha empática, re-enmarcar paradoja, decisión integradora."</span><span class="s4"> },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">1</span><span class="s4">, s: </span><span class="s1">"Eres Luis, gerente que defiende 'como siempre lo hacemos'. Resiste propuestas nuevas. Si el líder cuestiona con respeto, pide datos, propone experimento controlado, te muestras más abierto."</span><span class="s4">, u: </span><span class="s1">"Luis: Esto siempre funcionó, mejor no inventar ahora."</span><span class="s4">, r: </span><span class="s1">"Evalúa (0-5): cuestionar hábito con respeto, proponer hipótesis, sugerir prueba pequeña."</span><span class="s4"> },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">2</span><span class="s4">, s: </span><span class="s1">"Eres Marta, analista estancada. Te sientes invisible. Si el líder escucha, co-crea un plan de desarrollo, define hitos y apoyo, tu motivación sube."</span><span class="s4">, u: </span><span class="s1">"Marta: Siento que no avanzo. Hago lo mismo y no aprendo nada nuevo."</span><span class="s4">, r: </span><span class="s1">"Evalúa (0-5): preguntas abiertas, feedback de crecimiento, co-creación de plan."</span><span class="s4"> },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">3</span><span class="s4">, s: </span><span class="s1">"Eres Carlos, data lead. Presentas un trade-off técnico-humano (migración de datos afecta al equipo comercial). Evalúa si el líder integra habilidades técnicas, humanas y de negocio."</span><span class="s4">, u: </span><span class="s1">"Carlos: La migración mejora la latencia, pero ventas quedará 48h sin CRM."</span><span class="s4">, r: </span><span class="s1">"Evalúa (0-5): comprensión técnica, empatía con negocio, comunicación de impacto."</span><span class="s4"> },</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>{ d: </span><span class="s12">4</span><span class="s4">, s: </span><span class="s1">"Eres un Coach virtual. Planteas una mini-crisis. Evalúas la autorregulación, priorización, comunicación clara y aprendizaje del líder bajo presión."</span><span class="s4">, u: </span><span class="s1">"Coach: Tu PM te avisa que el proveedor clave cayó. El lanzamiento es mañana. ¿Cómo priorizas tus acciones en los próximos 15 minutos?"</span><span class="s4">, r: </span><span class="s1">"Evalúa (0-5): autorregulación, priorización efectiva, comunicación clara."</span><span class="s4"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- ESTADO DE LA APLICACIÓN ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> state = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>currentPage: </span><span class="s7">'welcome'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>currentDimension: </span><span class="s12">0</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>questionLevels: [</span><span class="s12">2</span><span class="s1">, </span><span class="s12">2</span><span class="s1">, </span><span class="s12">2</span><span class="s1">, </span><span class="s12">2</span><span class="s1">, </span><span class="s12">2</span><span class="s1">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>mcqScores: [</span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>mcqAnswersCount: [</span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>simulationScores: [</span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>finalScores: [</span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">, </span><span class="s12">0</span><span class="s1">],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>chatHistory: [],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LÓGICA DE LA API ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> callGenerativeAI(systemPrompt, userPrompt, useJson = </span><span class="s11">false</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>showLoading(</span><span class="s11">true</span><span class="s1">, </span><span class="s7">"IA está pensando..."</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> fullPrompt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (</span><span class="s13">Array</span><span class="s1">.isArray(userPrompt)) { </span><span class="s10">// Es un historial de chat</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span>fullPrompt = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>contents: userPrompt,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>systemInstruction: { parts: [{ text: systemPrompt }] }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span>};</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span>} </span><span class="s11">else</span><span class="s4"> { </span><span class="s1">// Es un prompt simple</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span>fullPrompt = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>contents: [{ parts: [{ text: userPrompt }] }],</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>systemInstruction: { parts: [{ text: systemPrompt }] }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span>};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (useJson) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>fullPrompt.generationConfig = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>responseMimeType: </span><span class="s7">"application/json"</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">try</span><span class="s1"> {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// PRIMERO, revisa si la clave API está vacía.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (!apiKey) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s11">throw</span><span class="s4"> </span><span class="s11">new</span><span class="s4"> </span><span class="s13">Error</span><span class="s4">(</span><span class="s1">"La clave API de Google no se ha configurado."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> response = </span><span class="s11">await</span><span class="s1"> fetch(apiUrl, {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>method: </span><span class="s7">'POST'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>headers: { </span><span class="s7">'Content-Type'</span><span class="s1">: </span><span class="s7">'application/json'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>body: </span><span class="s13">JSON</span><span class="s1">.stringify(fullPrompt)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (!response.ok) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">throw</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Error</span><span class="s1">(</span><span class="s7">`Error de API: </span><span class="s1">${response.statusText}</span><span class="s7">`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> result = </span><span class="s11">await</span><span class="s1"> response.json();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>showLoading(</span><span class="s11">false</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1"> result.candidates[</span><span class="s12">0</span><span class="s1">].content.parts[</span><span class="s12">0</span><span class="s1">].text;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s11">catch</span><span class="s1"> (error) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>console.error(</span><span class="s7">"Error llamando a la API de IA:"</span><span class="s1">, error);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>showLoading(</span><span class="s11">false</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Mostrar un error más amigable al usuario en la interfaz</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(state.currentPage === </span><span class="s7">'simulation'</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById(</span><span class="s7">'chat-window'</span><span class="s1">).innerHTML += </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="chat-bubble ai self-start rounded-lg p-3" style="background-color: #991b1b;"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;b&gt;Error:&lt;/b&gt; </span><span class="s4">${error.message}</span><span class="s1">. Asegúrate de que la clave API sea correcta.</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>alert(</span><span class="s7">`Error: </span><span class="s1">${error.message}</span><span class="s7">`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1"> </span><span class="s11">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- NAVEGACIÓN Y RENDERIZADO ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> showPage(pageId) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>[</span><span class="s7">'welcome'</span><span class="s1">, </span><span class="s7">'test'</span><span class="s1">, </span><span class="s7">'simulation'</span><span class="s1">, </span><span class="s7">'results'</span><span class="s1">].forEach(id =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById(</span><span class="s7">`page-</span><span class="s1">${id}</span><span class="s7">`</span><span class="s1">).classList.add(</span><span class="s7">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">`page-</span><span class="s1">${pageId}</span><span class="s7">`</span><span class="s1">).classList.remove(</span><span class="s7">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>state.currentPage = pageId;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>updateProgressBar();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> showLoading(isLoading, text = </span><span class="s7">'Cargando...'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> overlay = document.getElementById(</span><span class="s7">'loading-overlay'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> loadingText = document.getElementById(</span><span class="s7">'loading-text'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>loadingText.textContent = text;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (isLoading) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>overlay.classList.remove(</span><span class="s7">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>overlay.classList.add(</span><span class="s7">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> updateProgressBar() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> totalSteps = dimensions.length * </span><span class="s12">2</span><span class="s1">; </span><span class="s10">// Test + Simulación por dimensión</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> completedSteps = state.currentDimension * </span><span class="s12">2</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (state.currentPage === </span><span class="s7">'simulation'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>completedSteps += </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1">(state.currentPage === </span><span class="s7">'results'</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>completedSteps = totalSteps;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> progress = (completedSteps / totalSteps) * </span><span class="s12">100</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">'progress-bar-main'</span><span class="s1">).style.width = </span><span class="s7">`</span><span class="s1">${progress}</span><span class="s7">%`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LÓGICA DEL TEST ADAPTATIVO ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> startAssessment() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>state.currentDimension = </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>renderQuestion();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>showPage(</span><span class="s7">'test'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> renderQuestion() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> dim = state.currentDimension;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> level = state.questionLevels[dim];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> availableQuestions = questions.filter(q =&gt; q.d === dim &amp;&amp; q.l === level);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Si no hay pregunta de ese nivel, busca una de un nivel cercano</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> question = availableQuestions.length &gt; </span><span class="s12">0</span><span class="s1"> ? availableQuestions[</span><span class="s12">0</span><span class="s1">] : questions.find(q =&gt; q.d === dim);</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (!question) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// No más preguntas en esta dimensión, pasar a simulación</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>startSimulation();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">'test-dimension-title'</span><span class="s1">).textContent = dimensions[dim];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">'question-text'</span><span class="s1">).textContent = question.q;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> optionsContainer = document.getElementById(</span><span class="s7">'options-container'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>optionsContainer.innerHTML = </span><span class="s7">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>question.o.forEach((option, index) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>optionsContainer.innerHTML += </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;label class="flex items-center p-4 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;input type="radio" name="option" value="</span><span class="s4">${option.w}</span><span class="s1">" class="form-radio h-5 w-5 text-blue-600 bg-gray-900 border-gray-500 focus:ring-blue-500"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="ml-4 text-gray-200"&gt;</span><span class="s4">${option.t}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/label&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.querySelectorAll(</span><span class="s7">'input[name="option"]'</span><span class="s1">).forEach(radio =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>radio.addEventListener(</span><span class="s7">'change'</span><span class="s1">, () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById(</span><span class="s7">'submit-answer-btn'</span><span class="s1">).disabled = </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> submitAnswer() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> selectedOption = document.querySelector(</span><span class="s7">'input[name="option"]:checked'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (!selectedOption) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> weight = parseFloat(selectedOption.value);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> dim = state.currentDimension;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Actualizar score</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>state.mcqScores[dim] += weight;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>state.mcqAnswersCount[dim] += </span><span class="s12">1</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Lógica adaptativa</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (weight === </span><span class="s12">1.0</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>state.questionLevels[dim] = </span><span class="s13">Math</span><span class="s1">.min(</span><span class="s12">3</span><span class="s1">, state.questionLevels[dim] + </span><span class="s12">1</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> (weight &lt;= </span><span class="s12">0.2</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>state.questionLevels[dim] = </span><span class="s13">Math</span><span class="s1">.max(</span><span class="s12">1</span><span class="s1">, state.questionLevels[dim] - </span><span class="s12">1</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">'submit-answer-btn'</span><span class="s1">).disabled = </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Lógica para decidir si mostrar otra pregunta o pasar a la simulación</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Por simplicidad en este MVP, haremos una pregunta por dimensión y pasamos a la simulación</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>startSimulation();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LÓGICA DE SIMULACIÓN ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> startSimulation() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> dim = state.currentDimension;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> simData = simulations.find(s =&gt; s.d === dim);</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">'sim-dimension-title'</span><span class="s1">).textContent = dimensions[dim];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> chatWindow = document.getElementById(</span><span class="s7">'chat-window'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>chatWindow.innerHTML = </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="chat-bubble ai self-start rounded-lg p-3"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s4">${simData.u}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s4">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>state.chatHistory = [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>{ role: </span><span class="s7">"model"</span><span class="s1">, parts: [{ text: simData.u }] }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>];</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>showPage(</span><span class="s7">'simulation'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> sendMessage() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> input = document.getElementById(</span><span class="s7">'chat-input'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> message = input.value.trim();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (!message) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>input.value = </span><span class="s7">''</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Añadir mensaje del usuario a la UI y al historial</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">'chat-window'</span><span class="s1">).innerHTML += </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="chat-bubble user self-end rounded-lg p-3"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s4">${message}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>state.chatHistory.push({ role: </span><span class="s7">"user"</span><span class="s1">, parts: [{ text: message }] });</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Llamar a la IA</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> dim = state.currentDimension;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> simData = simulations.find(s =&gt; s.d === dim);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> systemPrompt = simData.s;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> apiHistory = state.chatHistory.map(entry =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1"> { role: entry.role === </span><span class="s7">"user"</span><span class="s1"> ? </span><span class="s7">"user"</span><span class="s1"> : </span><span class="s7">"model"</span><span class="s1">, parts: entry.parts};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> aiResponse = </span><span class="s11">await</span><span class="s1"> callGenerativeAI(systemPrompt, apiHistory);</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (aiResponse) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Añadir respuesta de la IA a la UI y al historial</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>state.chatHistory.push({ role: </span><span class="s7">"model"</span><span class="s1">, parts: [{ text: aiResponse }] });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById(</span><span class="s7">'chat-window'</span><span class="s1">).innerHTML += </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="chat-bubble ai self-start rounded-lg p-3"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s4">${aiResponse}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById(</span><span class="s7">'chat-window'</span><span class="s1">).scrollTop = document.getElementById(</span><span class="s7">'chat-window'</span><span class="s1">).scrollHeight;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> endSimulation() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>showLoading(</span><span class="s11">true</span><span class="s1">, </span><span class="s7">"Evaluando simulación..."</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> dim = state.currentDimension;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> simData = simulations.find(s =&gt; s.d === dim);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> transcript = state.chatHistory.map(m =&gt; </span><span class="s7">`</span><span class="s1">${m.role === </span><span class="s7">'user'</span><span class="s1"> ? </span><span class="s7">'Líder'</span><span class="s1"> : </span><span class="s7">'Avatar'</span><span class="s1">}</span><span class="s7">: </span><span class="s1">${m.parts[</span><span class="s12">0</span><span class="s1">].text}</span><span class="s7">`</span><span class="s1">).join(</span><span class="s7">'\n'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> scoringPrompt = </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>Evalúa la siguiente conversación de un líder (entre triple comillas) con esta rúbrica: </span><span class="s4">${simData.r}</span><span class="s1">.</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>Devuélveme SOLAMENTE un objeto JSON con la siguiente estructura: { "criterios": {"criterio1": puntaje, ...}, "comentarios": "feedback conciso", "score_total_0a100": puntaje_total, "evidencias": ["frase 1", "frase 2"] }.</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>"""</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s4">${transcript}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>"""</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s4">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">try</span><span class="s1"> {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s4"> scoreResponse = </span><span class="s11">await</span><span class="s4"> callGenerativeAI(</span><span class="s1">"Eres un evaluador de liderazgo experto. Analiza la conversación y califica objetivamente según la rúbrica."</span><span class="s4">, scoringPrompt, </span><span class="s11">true</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (scoreResponse) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> scoreJson = </span><span class="s13">JSON</span><span class="s1">.parse(scoreResponse);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>state.simulationScores[dim] = scoreJson.score_total_0a100 || </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>state.simulationScores[dim] = </span><span class="s12">50</span><span class="s1">; </span><span class="s10">// Valor por defecto si la evaluación falla</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s11">catch</span><span class="s1">(e) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>console.error(</span><span class="s1">"Error al parsear el score de la simulación:"</span><span class="s4">, e);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>state.simulationScores[dim] = </span><span class="s12">50</span><span class="s1">; </span><span class="s10">// Valor por defecto en caso de error</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>showLoading(</span><span class="s11">false</span><span class="s1">);</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (state.currentDimension &lt; dimensions.length - </span><span class="s12">1</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>state.currentDimension++;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderQuestion();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>showPage(</span><span class="s7">'test'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>calculateFinalScores();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>showResults();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LÓGICA DE RESULTADOS ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> calculateFinalScores() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">for</span><span class="s1"> (</span><span class="s11">let</span><span class="s1"> i = </span><span class="s12">0</span><span class="s1">; i &lt; dimensions.length; i++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> mcqAvg = state.mcqAnswersCount[i] &gt; </span><span class="s12">0</span><span class="s1"> ? (state.mcqScores[i] / state.mcqAnswersCount[i]) * </span><span class="s12">100</span><span class="s1"> : </span><span class="s12">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> simScore = state.simulationScores[i];</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Score dimensión (final) = 40% MCQ + 60% Simulación.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>state.finalScores[i] = </span><span class="s13">Math</span><span class="s1">.round(mcqAvg * </span><span class="s12">0.4</span><span class="s1"> + simScore * </span><span class="s12">0.6</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> showResults() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>showPage(</span><span class="s7">'results'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> ctx = document.getElementById(</span><span class="s7">'radar-chart'</span><span class="s1">).getContext(</span><span class="s7">'2d'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">new</span><span class="s1"> </span><span class="s13">Chart</span><span class="s1">(ctx, {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>type: </span><span class="s7">'radar'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>data: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>labels: dimensions.map(d =&gt; d.replace(</span><span class="s6">/ /</span><span class="s11">g</span><span class="s1">, </span><span class="s7">'\n'</span><span class="s1">)),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>datasets: [{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>label: </span><span class="s7">'Puntaje de Liderazgo'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>data: state.finalScores,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>backgroundColor: </span><span class="s7">'rgba(59, 130, 246, 0.2)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>borderColor: </span><span class="s7">'rgba(59, 130, 246, 1)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>pointBackgroundColor: </span><span class="s7">'rgba(59, 130, 246, 1)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>pointBorderColor: </span><span class="s7">'#fff'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>pointHoverBackgroundColor: </span><span class="s7">'#fff'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>pointHoverBorderColor: </span><span class="s7">'rgba(59, 130, 246, 1)'</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}]</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>options: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>scales: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>r: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>angleLines: { color: </span><span class="s7">'rgba(255, 255, 255, 0.2)'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>grid: { color: </span><span class="s7">'rgba(255, 255, 255, 0.2)'</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>pointLabels: { color: </span><span class="s7">'#fff'</span><span class="s1">, font: { size: </span><span class="s12">12</span><span class="s1"> } },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>ticks: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>color: </span><span class="s7">'#fff'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>backdropColor: </span><span class="s7">'rgba(0,0,0,0.5)'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span>stepSize: </span><span class="s12">20</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>suggestedMin: </span><span class="s12">0</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>suggestedMax: </span><span class="s12">100</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>plugins: { legend: { labels: { color: </span><span class="s7">'#fff'</span><span class="s1"> } } }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Análisis simple de fortalezas y debilidades</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> scoredDimensions = dimensions.map((name, index) =&gt; ({ name, score: state.finalScores[index] }));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>scoredDimensions.sort((a, b) =&gt; b.score - a.score);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> strengthsWeaknesses = document.getElementById(</span><span class="s7">'strengths-weaknesses'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>strengthsWeaknesses.innerHTML = </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;p&gt;&lt;strong class="text-green-400"&gt;Top Fortaleza:&lt;/strong&gt; </span><span class="s4">${scoredDimensions[</span><span class="s12">0</span><span class="s4">].name}</span><span class="s1"> (</span><span class="s4">${scoredDimensions[</span><span class="s12">0</span><span class="s4">].score}</span><span class="s1">)&lt;/p&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">                </span>&lt;p&gt;&lt;strong class="text-yellow-400"&gt;Área de Desarrollo:&lt;/strong&gt; </span><span class="s1">${scoredDimensions[scoredDimensions.length - </span><span class="s12">1</span><span class="s1">].name}</span><span class="s7"> (</span><span class="s1">${scoredDimensions[scoredDimensions.length - </span><span class="s12">1</span><span class="s1">].score}</span><span class="s7">)&lt;/p&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">            </span>`</span><span class="s4">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> actionPlan = document.getElementById(</span><span class="s7">'action-plan'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">             </span>actionPlan.innerHTML = </span><span class="s7">`</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-400 text-sm"&gt;&lt;strong&gt;Plan 30 días:&lt;/strong&gt; Enfócate en practicar activamente '</span><span class="s4">${scoredDimensions[scoredDimensions.length - </span><span class="s12">1</span><span class="s4">].name}</span><span class="s1">'. Busca una oportunidad por semana para aplicar un nuevo enfoque.&lt;/p&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;p class="text-gray-400 text-sm mt-2"&gt;&lt;strong&gt;Plan 60 días:&lt;/strong&gt; Solicita feedback específico sobre tu área de desarrollo a un par de confianza.&lt;/p&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">             </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> generatePDF() {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Simulación de la llamada a Make.com</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>showLoading(</span><span class="s11">true</span><span class="s4">, </span><span class="s1">"Generando tu informe PDF..."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>showLoading(</span><span class="s11">false</span><span class="s1">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>alert(</span><span class="s1">"Tu informe PDF ha sido generado y enviado a tu correo (simulación)."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}, </span><span class="s12">2000</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- INICIALIZACIÓN ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s7">'DOMContentLoaded'</span><span class="s1">, () =&gt; {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s1">// Listener para la tecla Enter en el chat</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s7">'chat-input'</span><span class="s1">).addEventListener(</span><span class="s7">'keypress'</span><span class="s1">, </span><span class="s11">function</span><span class="s1"> (e) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (e.key === </span><span class="s7">'Enter'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>sendMessage();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p7"><span class="s1"></span><br></p>
<p class="p10"><span class="s1"></span><br></p>
</body>
</html>
